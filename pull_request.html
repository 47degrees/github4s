<!DOCTYPE html><html><head><title>Github4s: Pull Request API</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Github4s contributors" /><meta name="description" content="Github API wrapper written in Scala" /><meta name="og:image" content="/github4s/img/poster.png" /><meta name="image" property="og:image" content="/github4s/img/poster.png" /><meta name="og:title" content="Github4s: Pull Request API" /><meta name="title" property="og:title" content="Github4s: Pull Request API" /><meta name="og:site_name" content="Github4s" /><meta name="og:url" content="https://github.com/47degrees/github4s" /><meta name="og:type" content="website" /><meta name="og:description" content="Github API wrapper written in Scala" /><link rel="icon" type="image/png" href="/github4s/img/favicon.png" /><meta name="twitter:title" content="Github4s: Pull Request API" /><meta name="twitter:image" content="/github4s/img/poster.png" /><meta name="twitter:description" content="Github API wrapper written in Scala" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/github4s/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/github4s/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/github4s/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/github4s/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/github4s/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/github4s/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/github4s/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/github4s/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/github4s/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/github4s/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/github4s/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/github4s/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/github4s/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/github4s/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/github4s/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/github4s/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/github4s/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/github4s/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/github4s/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/github4s/img/favicon310x150.png" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/github4s/highlight/styles/vs.css" /><link rel="stylesheet" href="/github4s/css/light-style.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><div id="sidebar-brand"><a href="/github4s/" class="brand"><div class="brand-wrapper"></div><span>Github4s</span></a><button id="main-toggle" class="sidebar-toggle"><span class="close"></span></button></div><div class="sidebar-nav"> <div class="sidebar-nav-item  "><a href="/github4s/docs" title="Getting Started" class="">Getting Started</a></div> <div class="sidebar-nav-item  "><a href="/github4s/api/github4s" title="Scaladoc" class="">Scaladoc</a></div> <div class="sidebar-nav-item  "><a href="/github4s/auth" title="Authorization API" class="">Authorization API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/gist" title="Gist API" class="">Gist API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/git_data" title="Git Data API" class="">Git Data API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/issue" title="Issue API" class="">Issue API</a></div> <div class="sidebar-nav-item active "><a href="/github4s/pull_request" title="Pull Request API" class="active">Pull Request API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/user" title="User API" class="">User API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/repository" title="Repository API" class="">Repository API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/activity" title="Activity API" class="">Activity API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/organization" title="Organization API" class="">Organization API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/team" title="Team API" class="">Team API</a></div> <div class="sidebar-nav-item  "><a href="/github4s/project" title="Project API" class="">Project API</a></div></div></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li class="search-nav"><div id="search-dropdown"><label><i class="fa fa-search"></i>Search</label><input id="search-bar" type="text" placeholder="Enter keywords here..." onclick="displayToggleSearch(event)" /><ul id="search-dropdown-content" class="dropdown dropdown-content"></ul></div></li><li id="gh-eyes-item" class="hidden-xs to-uppercase"><a href="https://github.com/47degrees/github4s" target="_blank" rel="noopener noreferrer"><i class="fa fa-eye"></i><span>Watchers<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs to-uppercase"><a href="https://github.com/47degrees/github4s" target="_blank" rel="noopener noreferrer"><i class="fa fa-star-o"></i><span>Stars<span id="stars" class="label label-default">--</span></span></a></li></ul></div></div></div></div><div id="content" data-github-owner="47degrees" data-github-repo="github4s"><div class="content-wrapper"><section><h1 id="pull-request-api">Pull Request API</h1>

<p>Github4s supports the <a href="https://developer.github.com/v3/pulls/">Pull Request API</a>. As a result,
with Github4s, you can interact with:</p>

<ul>
  <li><a href="#pull-requests">Pull requests</a>
    <ul>
      <li><a href="#get-a-pull-request">Get a pull request</a></li>
      <li><a href="#list-pull-requests">List pull requests</a></li>
      <li><a href="#list-the-files-in-a-pull-request">List the files in a pull request</a></li>
      <li><a href="#create-a-pull-request">Create a pull request</a></li>
      <li><a href="#update-a-pull-request-branch">Update branch</a></li>
    </ul>
  </li>
  <li><a href="#reviews">Reviews</a>
    <ul>
      <li><a href="#list-pull-request-reviews">List reviews</a></li>
      <li><a href="#get-an-individual-review">Get a review</a></li>
      <li><a href="#create-a-review">Create a review</a></li>
    </ul>
  </li>
  <li><a href="#review-requests">Review requests</a>
    <ul>
      <li><a href="#add-reviewers">Add reviewers</a></li>
      <li><a href="#list-reviewers">List reviewers</a></li>
      <li><a href="#remove-reviewers">Remove reviewers</a></li>
    </ul>
  </li>
</ul>

<p>The following examples assume the following code:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">cats.effect.IO</span>
<span class="k">import</span> <span class="nn">github4s.Github</span>
<span class="k">import</span> <span class="nn">org.http4s.client.</span><span class="o">{</span><span class="nc">Client</span><span class="o">,</span> <span class="nc">JavaNetClientBuilder</span><span class="o">}</span>


<span class="k">val</span> <span class="nv">httpClient</span><span class="k">:</span> <span class="kt">Client</span><span class="o">[</span><span class="kt">IO</span><span class="o">]</span> <span class="k">=</span> <span class="nc">JavaNetClientBuilder</span><span class="o">[</span><span class="kt">IO</span><span class="o">].</span><span class="py">create</span> <span class="c1">// You can use any http4s backend</span>

<span class="k">val</span> <span class="nv">accessToken</span> <span class="k">=</span> <span class="nv">sys</span><span class="o">.</span><span class="py">env</span><span class="o">.</span><span class="py">get</span><span class="o">(</span><span class="s">"GITHUB_TOKEN"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">gh</span> <span class="k">=</span> <span class="nc">Github</span><span class="o">[</span><span class="kt">IO</span><span class="o">](</span><span class="n">httpClient</span><span class="o">,</span> <span class="n">accessToken</span><span class="o">)</span>
</code></pre></div></div>

<h2 id="pull-requests">Pull requests</h2>

<h3 id="get-a-pull-request">Get a pull request</h3>

<p>You can get a single pull request for a repository using <code class="highlighter-rouge">get</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>the pull request number</li>
</ul>

<p>To get a single pull request:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">getPullRequest</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">getPullRequest</span><span class="o">(</span><span class="s">"47degrees"</span><span class="o">,</span> <span class="s">"github4s"</span><span class="o">,</span> <span class="mi">102</span><span class="o">)</span>
<span class="nv">getPullRequest</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">result</code> on the right is the corresponding <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">PullRequest</a>.</p>

<p>See <a href="https://developer.github.com/v3/pulls/#get-a-single-pull-request">the API doc</a> for full reference.</p>

<h3 id="list-pull-requests">List pull requests</h3>

<p>You can list the pull requests for a repository using <code class="highlighter-rouge">list</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>a list of <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">PRFilter</a>.</li>
</ul>

<p>As an example, let’s say we want the open pull requests in <a href="https://github.com/scala/scala">https://github.com/scala/scala</a> sorted
by popularity:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">github4s.domain._</span>
<span class="k">val</span> <span class="nv">prFilters</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">PRFilterOpen</span><span class="o">,</span> <span class="nc">PRFilterSortPopularity</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">listPullRequests</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">listPullRequests</span><span class="o">(</span><span class="s">"scala"</span><span class="o">,</span> <span class="s">"scala"</span><span class="o">,</span> <span class="n">prFilters</span><span class="o">)</span>
<span class="nv">listPullRequests</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">result</code> on the right is the matching <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">List[PullRequest]</a>.</p>

<p>See <a href="https://developer.github.com/v3/pulls/#list-pull-requests">the API doc</a> for full reference.</p>

<h3 id="list-the-files-in-a-pull-request">List the files in a pull request</h3>

<p>You can also list the files for a pull request using <code class="highlighter-rouge">listFiles</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>the pull request number.</li>
</ul>

<p>To list the files for a pull request:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">listPullRequestFiles</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">listFiles</span><span class="o">(</span><span class="s">"47degrees"</span><span class="o">,</span> <span class="s">"github4s"</span><span class="o">,</span> <span class="mi">102</span><span class="o">)</span>
<span class="nv">listPullRequestFiles</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>the <code class="highlighter-rouge">result</code> on the right is the <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">List[PullRequestFile]</a>.</p>

<p>See <a href="https://developer.github.com/v3/pulls/#list-pull-requests-files">the API doc</a> for full
reference.</p>

<h3 id="create-a-pull-request">Create a pull request</h3>

<p>If you want to create a pull request, we can follow two different methods.</p>

<p>On the one hand, we can pass the following parameters:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li><code class="highlighter-rouge">title</code> (as part of the <code class="highlighter-rouge">NewPullRequestData</code> object): Title for the pull request.</li>
  <li><code class="highlighter-rouge">body</code> (as part of the <code class="highlighter-rouge">NewPullRequestData</code> object): Description for the pull request.</li>
  <li><code class="highlighter-rouge">head</code>: The name of the branch where your changes are implemented.</li>
  <li><code class="highlighter-rouge">base</code>: The name of the branch you want the changes pulled into.</li>
  <li><code class="highlighter-rouge">maintainerCanModify</code>: Optional. Indicates whether maintainers can modify the pull request. <code class="highlighter-rouge">true</code> by default.</li>
</ul>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">github4s.domain.NewPullRequestData</span>

<span class="k">val</span> <span class="nv">createPullRequestData</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">createPullRequest</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="nc">NewPullRequestData</span><span class="o">(</span><span class="s">"title"</span><span class="o">,</span> <span class="s">"body"</span><span class="o">,</span> <span class="n">draft</span> <span class="k">=</span> <span class="kc">false</span><span class="o">),</span>
  <span class="s">"my-branch"</span><span class="o">,</span>
  <span class="s">"base-branch"</span><span class="o">,</span>
  <span class="nc">Some</span><span class="o">(</span><span class="kc">true</span><span class="o">))</span>
<span class="nv">createPullRequestData</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>On the other hand, we can pass an <code class="highlighter-rouge">issue</code> id (through <code class="highlighter-rouge">NewPullRequestIssue</code> object)
instead of the title and body.</p>

<p><strong>NOTE</strong>: This option deletes the issue.</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">github4s.domain.NewPullRequestIssue</span>
<span class="k">val</span> <span class="nv">createPullRequestIssue</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">createPullRequest</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="nc">NewPullRequestIssue</span><span class="o">(</span><span class="mi">105</span><span class="o">),</span>
  <span class="s">"my-branch"</span><span class="o">,</span>
  <span class="s">"base-branch"</span><span class="o">,</span>
  <span class="nc">Some</span><span class="o">(</span><span class="kc">true</span><span class="o">))</span>
<span class="nv">createPullRequestIssue</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>See <a href="https://developer.github.com/v3/pulls/#create-a-pull-request">the API doc</a> for full reference.</p>

<h3 id="update-a-pull-request-branch">Update a pull request branch</h3>

<p>Merges the base HEAD into your pull request branch. 
Note that this is an experimental API, meaning github could stop supporting it at any time or change in an incompatible way.</p>

<p>Accepts these parameters:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li><code class="highlighter-rouge">pullRequest</code>: integer id of you pr.</li>
  <li><code class="highlighter-rouge">expectedHeadSha</code>: The expected SHA of the pull request’s HEAD ref for an optional check on github’s side.</li>
</ul>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">github4s.domain.BranchUpdateResponse</span>

<span class="k">val</span> <span class="nv">updatePullRequestBranch</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">updateBranch</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="mi">567</span><span class="o">)</span>  
<span class="nv">updatePullRequestBranch</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>See <a href="https://developer.github.com/v3/pulls/#update-a-pull-request-branch">the API doc</a> for full reference.</p>

<h2 id="reviews">Reviews</h2>

<h3 id="list-pull-request-reviews">List pull request reviews</h3>

<p>You can list the reviews for a pull request using <code class="highlighter-rouge">listReviews</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>the pull request id.</li>
</ul>

<p>As an example, if we wanted to see all the reviews for pull request 139 of <code class="highlighter-rouge">47degrees/github4s</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">listReviews</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">listReviews</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="mi">139</span><span class="o">)</span>
<span class="nv">listReviews</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">result</code> on the right is the matching <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">List[PullRequestReview]</a>.</p>

<p>See <a href="https://developer.github.com/v3/pulls/reviews/#list-reviews-on-a-pull-request">the API doc</a> for full reference.</p>

<h3 id="get-an-individual-review">Get an individual review</h3>

<p>You can get an individual review for a pull request using <code class="highlighter-rouge">getReview</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>the pull request id.</li>
  <li>the review id.</li>
</ul>

<p>As an example, if we wanted to see review 39355613 for pull request 139 of <code class="highlighter-rouge">47degrees/github4s</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">review</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">getReview</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="mi">139</span><span class="o">,</span>
  <span class="mi">39355613</span><span class="o">)</span>
<span class="nv">review</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">result</code> on the right is the matching <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">PullRequestReview</a>.</p>

<p>See <a href="https://developer.github.com/v3/pulls/reviews/#get-a-single-review">the API doc</a> for full reference.</p>

<h3 id="create-a-review">Create a review</h3>

<p>You can create a review for a pull request using <code class="highlighter-rouge">createReview</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>the pull request id.</li>
  <li><code class="highlighter-rouge">commit_id</code> (as part of the <code class="highlighter-rouge">CreatePRReviewRequest</code> object): The SHA of the commit that needs a review. Defaults to the most recent commit.</li>
  <li><code class="highlighter-rouge">body</code> (as part of the <code class="highlighter-rouge">CreatePRReviewRequest</code> object): Required when using REQUEST_CHANGES or COMMENT for the event parameter. The body text of the pull request review.</li>
  <li><code class="highlighter-rouge">event</code> (as part of the <code class="highlighter-rouge">CreatePRReviewRequest</code> object): The review action you want to perform. By leaving this blank, you set the review action state to PENDING.</li>
  <li><code class="highlighter-rouge">comments</code> (as part of the <code class="highlighter-rouge">CreatePRReviewRequest</code> object): An optional list of draft review comments.</li>
</ul>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">github4s.domain.</span><span class="o">{</span><span class="nc">CreatePRReviewRequest</span><span class="o">,</span> <span class="nc">PRREventApprove</span><span class="o">}</span>

<span class="k">val</span> <span class="nv">createReviewData</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">createReview</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="mi">139</span><span class="o">,</span>
  <span class="nc">CreatePRReviewRequest</span><span class="o">(</span><span class="nc">Some</span><span class="o">(</span><span class="s">"commit_id"</span><span class="o">),</span> <span class="s">"body"</span><span class="o">,</span> <span class="nc">PRREventApprove</span><span class="o">)</span>  
<span class="o">)</span>
<span class="nv">createReviewData</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">result</code> on the right is the created <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">PullRequestReview</a>.</p>

<p>See <a href="https://developer.github.com/v3/pulls/reviews/#create-a-review-for-a-pull-request">the API doc</a> for full reference.</p>

<h2 id="review-requests">Review requests</h2>

<p>This API allows you to operate on review requests. Reviewers can be users and/or teams. Usernames should be used without a leading ‘@’ sign.</p>

<h3 id="add-reviewers">Add reviewers</h3>

<p>You can add reviewers for a pull request using <code class="highlighter-rouge">addReviewers</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>the pull request id.</li>
  <li>users and teams you want to add as reviewers</li>
</ul>

<p>As an example, if we wanted to add <code class="highlighter-rouge">torvalds</code> to the reviewers for pull request 139 of <code class="highlighter-rouge">47degrees/github4s</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">github4s.domain._</span>
<span class="k">val</span> <span class="nv">addReviewers</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">addReviewers</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="mi">139</span><span class="o">,</span>
  <span class="nc">ReviewersRequest</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">"torvalds"</span><span class="o">)))</span>
<span class="nv">addReviewers</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">result</code> on the right is the updated <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">PullRequest</a>.</p>

<p><strong>NOTE</strong>: you can’t request a review from the pr’s author. If your list of added reviewers contains the author, the whole request will be declined.</p>

<p>See <a href="https://docs.github.com/en/free-pro-team@latest/rest/reference/pulls#request-reviewers-for-a-pull-request">the API doc</a> for full reference.</p>

<h3 id="list-reviewers">List reviewers</h3>

<p>You can list the reviewers for a pull request using <code class="highlighter-rouge">listReviewers</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>the pull request id.</li>
</ul>

<p>As an example, if we wanted to see all the reviewers for pull request 139 of <code class="highlighter-rouge">47degrees/github4s</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">listReviewers</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">listReviewers</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="mi">139</span><span class="o">)</span>
<span class="nv">listReviewers</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">result</code> on the right is the matching ReviewersResponse, which contains all users and teams, whose review has been requested.</p>

<p>See <a href="https://docs.github.com/en/free-pro-team@latest/rest/reference/pulls#list-requested-reviewers-for-a-pull-request">the API doc</a> for full reference.</p>

<h3 id="remove-reviewers">Remove reviewers</h3>

<p>You can remove reviewers from a pull request using <code class="highlighter-rouge">removeReviewers</code>; it takes as arguments:</p>

<ul>
  <li>the repository coordinates (<code class="highlighter-rouge">owner</code> and <code class="highlighter-rouge">name</code> of the repository).</li>
  <li>the pull request id.</li>
  <li>users and teams you want to remove from reviewers</li>
</ul>

<p>As an example, if we wanted to remove <code class="highlighter-rouge">torvalds</code> from the reviewers for pull request 139 of <code class="highlighter-rouge">47degrees/github4s</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">github4s.domain._</span>
<span class="k">val</span> <span class="nv">removeReviewers</span> <span class="k">=</span> <span class="nv">gh</span><span class="o">.</span><span class="py">pullRequests</span><span class="o">.</span><span class="py">removeReviewers</span><span class="o">(</span>
  <span class="s">"47deg"</span><span class="o">,</span>
  <span class="s">"github4s"</span><span class="o">,</span>
  <span class="mi">139</span><span class="o">,</span>
  <span class="nc">ReviewersRequest</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">"torvalds"</span><span class="o">)))</span>
<span class="nv">removeReviewers</span><span class="o">.</span><span class="py">flatMap</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">result</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>  <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Something went wrong: ${e.getMessage}"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">IO</span><span class="o">.</span><span class="py">println</span><span class="o">(</span><span class="n">r</span><span class="o">)</span>
<span class="o">})</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">result</code> on the right is the updated <a href="https://github.com/47degrees/github4s/blob/main/github4s/shared/src/main/scala/github4s/domain/PullRequest.scala">PullRequest</a>.</p>

<p>See <a href="https://docs.github.com/en/free-pro-team@latest/rest/reference/pulls#remove-requested-reviewers-from-a-pull-request">the API doc</a> for full reference.</p>

<p>As you can see, a few features of the pull request endpoint are missing. As a result, if you’d like
to see a feature supported, feel free to create an issue and/or a pull request!</p>

</section></div></div></div></div><script src="/github4s/highlight/highlight.pack.js"></script><script src="/github4s/lunr/lunr.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script>((window.gitter = {}).chat = {}).options = {
room: '47degrees/github4s'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/github4s/js/search.js"></script><script src="/github4s/js/docs.js"></script></body></html>